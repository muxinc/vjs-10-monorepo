---
import type { Guide, SupportedFramework, SupportedStyle } from '@/types/docs';
import { ChevronDown } from 'lucide-react';

type Props<F extends SupportedFramework = SupportedFramework> = {
  prev: Guide | null;
  next: Guide | null;
  framework: F;
  style: SupportedStyle<F>;
  docTitles: Map<string, string>;
};

const { prev, next, framework, style, docTitles } = Astro.props;

function getGuideUrl<F extends SupportedFramework>(framework: F, style: SupportedStyle<F>, slug: string): string {
  return `/docs/framework/${framework}/style/${style}/${slug}`;
}
---

<nav class="w-full max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-5">
  {
    prev ? (
      <a
        href={getGuideUrl(framework, style, prev.slug)}
        class="grid items-center gap-x-2 p-4 border border-light-40 rounded-lg intent:border-dark-40"
        style="grid-template-areas: 'empty direction' 'icon title'; grid-template-columns: auto minmax(0,1fr); grid-template-rows: auto minmax(0,1fr);"
      >
        <div class="text-sm text-dark-80" style="grid-area: direction;">
          Previous
        </div>
        <div class="text-base font-medium text-balance" style="grid-area: title">
          {prev.sidebarLabel || docTitles.get(prev.slug)}
        </div>
        <div style="grid-area: icon">
          <ChevronDown size={12} className="rotate-90" />
        </div>
      </a>
    ) : (
      <div />
    )
  }
  {
    next ? (
      <a
        href={getGuideUrl(framework, style, next.slug)}
        class="grid items-center gap-x-2 p-4 border border-light-40 rounded-lg intent:border-dark-40 text-right"
        style="grid-template-areas: 'direction empty' 'title icon';grid-template-columns: minmax(0,1fr) auto; grid-template-rows: auto minmax(0,1fr);"
      >
        <div class="text-sm text-dark-80" style="grid-area: direction;">
          Next
        </div>
        <div class="text-base font-medium text-balance" style="grid-area: title">
          {next.sidebarLabel || docTitles.get(next.slug)}
        </div>
        <div style="grid-area: icon">
          <ChevronDown size={12} className="-rotate-90" />
        </div>
      </a>
    ) : (
      <div />
    )
  }
</nav>
