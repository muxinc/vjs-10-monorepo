---
import type { CollectionEntry } from 'astro:content';

import type { AnySupportedStyle, SupportedFramework } from '@/types/docs';

import { Selectors } from '@/components/docs/Selectors';
import SidebarItem from '@/components/docs/SidebarItem.astro';
import { filterSidebar } from '@/utils/docs/sidebar';

type Props = {
  framework: SupportedFramework;
  style: AnySupportedStyle;
  docTitles: Map<string, string>;
};

const { framework, style, docTitles } = Astro.props;
const filteredSidebar = filterSidebar(framework, style);
---

<Selectors client:load currentFramework={framework} currentStyle={style} />
<nav class="p-6 text-dark-80">
  {filteredSidebar.map((item) => <SidebarItem item={item} framework={framework} style={style} docTitles={docTitles} />)}
</nav>
