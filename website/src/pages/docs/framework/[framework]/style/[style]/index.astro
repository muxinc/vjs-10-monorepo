---
import type { AnySupportedStyle, SupportedFramework } from '@/types/docs';
import { FRAMEWORK_STYLES, SUPPORTED_FRAMEWORKS } from '@/types/docs';

export function getStaticPaths() {
  const paths = [];
  for (const framework of SUPPORTED_FRAMEWORKS) {
    const availableStyles = FRAMEWORK_STYLES(framework);
    for (const style of availableStyles) {
      paths.push({ params: { framework, style } });
    }
  }

  return paths;
}

const { framework, style } = Astro.params as {
  framework: SupportedFramework;
  style: AnySupportedStyle;
};

return Astro.redirect(getDocsRedirectUrl(framework, style));
---
